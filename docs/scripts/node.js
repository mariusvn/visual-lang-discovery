!function(){let e=0,t={isSource:!0,isTarget:!1,connector:"Bezier",endpoint:"Dot",scope:"flow"},n={isSource:!1,isTarget:!0,connector:"Bezier",endpoint:"Dot",scope:"flow"},o=[];class i{constructor(i,a,r){this.id=e,this.strId="node_id_"+this.id,$(".NodeSpace").append("<div oncontextmenu='return false;' class='node id_"+e+"' id='node_id_"+e+"' value='"+this.id+"'><div class='inputs'></div><div class='outputs'></div><div class='nodeContainer'>node</div></div>"),this.dom=$(".id_"+e),this.container=$(".id_"+e+" .nodeContainer"),this.nodeType="node",this.isVariable=!1,this.starter=!1,this.needInputUpdate=!1,r&&jsPlumb.addEndpoint("node_id_"+this.id,{anchor:[1,0,0,0,0,0,"Right"]},t),a&&jsPlumb.addEndpoint("node_id_"+this.id,{anchor:[0,0,0,0,0,0,"Left"]},n),i&&jsPlumb.draggable("node_id_"+this.id),e++,o.push(this),$("#"+this.strId).on("contextmenu",function(e){if(3==e.which){let t=e.currentTarget;!1===(t=l(t=$(t).attr("value"))).starter&&($(t.dom).remove(),o.splice(o.indexOf(t),1),jsPlumb.remove(t.strId))}})}onConnect(e){}updateNode(e){self.container.replaceWith(e)}exec(){}}class a extends i{constructor(){super(!0,!1,!0),this.container.replaceWith("<div>Starter</div>"),this.dom.addClass("starter"),this.nodeType="starter",this.starter=!0}}function r(e){new c;let t=e.source;t=l(t=$(t).attr("value"));let n=e.target;n=l(n=$(n).attr("value")),!t.isVariable||"print"!=n.nodeType&&"alert"!=n.nodeType&&"variableset"!=n.nodeType?t.isVariable&&n.needInputUpdate&&n.updateControllers():n.control(t)}function d(e){new c;let t=e.source;t=l(t=$(t).attr("value"));let n=e.target;n=l(n=$(n).attr("value")),!t.isVariable||"print"!=n.nodeType&&"alert"!=n.nodeType&&"variableset"!=n.nodeType?t.isVariable&&n.needInputUpdate&&n.updateControllers():n.unControl()}function s(e){new c;let t=e.originalSourceId;t=$("#"+t).attr("value"),console.log(t),t=l(t);let n=e.originalTargetId;n=$("#"+n).attr("value"),console.log(n),n=l(n),!t.isVariable||"print"!=n.nodeType&&"alert"!=n.nodeType&&"variableset"!=n.nodeType?t.isVariable&&n.needInputUpdate&&n.updateControllers():n.unControl();let o=e.newSourceId;o=l(o=$(o).attr("value"));let i=e.newTargetId;i=l(i=$(i).attr("value")),!o.isVariable||"print"!=i.nodeType&&"alert"!=i.nodeType&&"variableset"!=i.nodeType?o.isVariable&&i.needInputUpdate&&i.updateControllers():i.control(o)}function l(e){for(let t=0;t<o.length;t++){let n=o[t];if(n.id==e)return n}return!1}$(document).ready(function(){$(".consolas").draggable(),$("#loader").hide()}),jsPlumb.ready(function(){new a,jsPlumb.bind("connection",r),jsPlumb.bind("connectionDetached",d),jsPlumb.bind("connectionMoved",s)});class c{text(e){$(".console").append("<p>"+e+"</p><br/>")}cls(){$(".console").html("")}}}();